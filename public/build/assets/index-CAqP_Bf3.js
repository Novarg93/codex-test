import{l as L,k as M,j as h,h as R,P as q,x as $,b as A,p as I}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-BTbjbBgZ.js";import{i as _}from"./ohash.D__AXeF1-BdDo5Poh.js";import{j as y,l as C,p as m,c as p,o as c,w as v,r as f,d as n,$ as k,i as P,A as b,M as V,Q as z,x as T,k as j,N as F,g as B,n as w,R as N,S as O,P as D}from"./app-KhPXK_eo.js";function Q(e,a){return L(e)?!1:Array.isArray(e)?e.some(t=>_(t,a)):_(e,a)}function U({type:e,defaultValue:a,modelValue:t}){const r=t||a;return t!==void 0||a!==void 0?Array.isArray(r)?"multiple":"single":e??"single"}function W({type:e,defaultValue:a,modelValue:t}){return e||U({type:e,defaultValue:a,modelValue:t})}function G({type:e,defaultValue:a}){return a!==void 0?a:e==="single"?void 0:[]}function ne(e,a){const t=y(()=>W(e)),r=M(e,"modelValue",a,{defaultValue:G(e),passive:e.modelValue===void 0,deep:!0});function l(u){if(t.value==="single")r.value=_(u,r.value)?void 0:u;else{const i=Array.isArray(r.value)?[...r.value||[]]:[r.value].filter(Boolean);if(Q(i,u)){const d=i.findIndex(s=>_(s,u));i.splice(d,1)}else i.push(u);r.value=i}}const o=y(()=>t.value==="single");return{modelValue:r,changeModelValue:l,isSingle:o}}const[E,H]=R("AvatarRoot");var J=C({__name:"AvatarRoot",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){return h(),H({imageLoadingStatus:m("idle")}),(a,t)=>(c(),p(n(q),{"as-child":a.asChild,as:a.as},{default:v(()=>[f(a.$slots,"default")]),_:3},8,["as-child","as"]))}}),K=J,X=C({__name:"AvatarFallback",props:{delayMs:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const a=e,t=E();h();const r=m(a.delayMs===void 0);return k(l=>{if(a.delayMs&&$){const o=window.setTimeout(()=>{r.value=!0},a.delayMs);l(()=>{window.clearTimeout(o)})}}),(l,o)=>r.value&&n(t).imageLoadingStatus.value!=="loaded"?(c(),p(n(q),{key:0,"as-child":l.asChild,as:l.as},{default:v(()=>[f(l.$slots,"default")]),_:3},8,["as-child","as"])):P("v-if",!0)}}),Y=X;function S(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Z(e,{referrerPolicy:a,crossOrigin:t}={}){const r=m(!1),l=m(null),o=y(()=>r.value?(!l.value&&$&&(l.value=new window.Image),l.value):null),u=m(S(o.value,e.value)),i=d=>()=>{r.value&&(u.value=d)};return b(()=>{r.value=!0,k(d=>{const s=o.value;if(!s)return;u.value=S(s,e.value);const g=i("loaded"),x=i("error");s.addEventListener("load",g),s.addEventListener("error",x),a?.value&&(s.referrerPolicy=a.value),typeof t?.value=="string"&&(s.crossOrigin=t.value),d(()=>{s.removeEventListener("load",g),s.removeEventListener("error",x)})})}),V(()=>{r.value=!1}),u}var ee=C({__name:"AvatarImage",props:{src:{type:String,required:!0},referrerPolicy:{type:null,required:!1},crossOrigin:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"img"}},emits:["loadingStatusChange"],setup(e,{emit:a}){const t=e,r=a,{src:l,referrerPolicy:o,crossOrigin:u}=z(t);h();const i=E(),d=Z(l,{referrerPolicy:o,crossOrigin:u});return T(d,s=>{r("loadingStatusChange",s),s!=="idle"&&(i.imageLoadingStatus.value=s)},{immediate:!0}),(s,g)=>j((c(),p(n(q),{role:"img","as-child":s.asChild,as:s.as,src:n(l),"referrer-policy":n(o)},{default:v(()=>[f(s.$slots,"default")]),_:3},8,["as-child","as","src","referrer-policy"])),[[F,n(d)==="loaded"]])}}),ae=ee;const ue={__name:"CardDescription",props:{class:{type:null,required:!1}},setup(e){const a=e;return(t,r)=>(c(),B("p",{class:w(n(A)("text-sm text-muted-foreground",a.class))},[f(t.$slots,"default")],2))}},oe={__name:"CardTitle",props:{class:{type:null,required:!1}},setup(e){const a=e;return(t,r)=>(c(),B("h3",{class:w(n(A)("font-semibold leading-none tracking-tight",a.class))},[f(t.$slots,"default")],2))}},ie={__name:"Avatar",props:{class:{type:null,required:!1},size:{type:null,required:!1,default:"sm"},shape:{type:null,required:!1,default:"circle"}},setup(e){const a=e;return(t,r)=>(c(),p(n(K),{class:w(n(A)(n(te)({size:e.size,shape:e.shape}),a.class))},{default:v(()=>[f(t.$slots,"default")]),_:3},8,["class"]))}},de={__name:"AvatarFallback",props:{delayMs:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e;return(t,r)=>(c(),p(n(Y),N(O(a)),{default:v(()=>[f(t.$slots,"default")]),_:3},16))}},ce={__name:"AvatarImage",props:{src:{type:String,required:!0},referrerPolicy:{type:null,required:!1},crossOrigin:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e;return(t,r)=>(c(),p(n(ae),D(a,{class:"h-full w-full object-cover"}),{default:v(()=>[f(t.$slots,"default")]),_:3},16))}},te=I("inline-flex items-center justify-center font-normal text-foreground select-none shrink-0 bg-secondary overflow-hidden",{variants:{size:{sm:"h-10 w-10 text-xs",base:"h-16 w-16 text-2xl",lg:"h-32 w-32 text-5xl"},shape:{circle:"rounded-full",square:"rounded-md"}}});export{ie as _,ce as a,de as b,oe as c,ue as d,Q as i,ne as u};
